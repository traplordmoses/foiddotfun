@tailwind base;
@tailwind components;
@tailwind utilities;

/* global tokens (gradient var) */
:root {
  /* soft neon swirl â€“ tweak as you like */
  --fluent-gradient:
    radial-gradient(60% 80% at 10% 0%, rgba(169,96,238,0.25) 0%, rgba(169,96,238,0) 60%),
    radial-gradient(70% 80% at 90% 10%, rgba(255,78,205,0.22) 0%, rgba(255,78,205,0) 60%),
    radial-gradient(80% 80% at 50% 100%, rgba(0,212,255,0.18) 0%, rgba(0,212,255,0) 60%);
}

/* base element resets & theme */
@layer base {
  html, body, #__next {
    height: 100%;
  }

  body {
    @apply bg-neutral-950 text-neutral-100 antialiased;
    /* gradient + film grain */
    background-image: var(--fluent-gradient), url('/noise.png');
    background-size: cover, 200px 200px;     /* bigger grain tiles */
    background-repeat: no-repeat, repeat;
    /* fixed can be janky on iOS; fine for desktop. remove if needed */
    background-attachment: fixed;
    /* keep content visible under browser chrome on notch devices */
    padding-top: max(0px, env(safe-area-inset-top));
  }

  a {
    @apply underline text-fluent-pink hover:text-fluent-blue transition-colors;
  }
}

/* reusable components */
@layer components {
  .card {
    @apply bg-neutral-900/85 rounded-2xl p-6 shadow-card;
  }
}

/* custom utilities */
@layer utilities {
  .shadow-card {
    /* soft, wide glow that fits the noir/neon vibe */
    box-shadow:
      0 1px 2px rgba(0,0,0,0.3),
      0 8px 24px rgba(0,0,0,0.35),
      0 0 0 1px rgba(255,255,255,0.03) inset;
  }
}

@layer utilities {
  .shadow-card {
    box-shadow:
      0 1px 2px rgba(0,0,0,0.3),
      0 8px 24px rgba(0,0,0,0.35),
      0 0 0 1px rgba(255,255,255,0.03) inset;
  }

  /* new: hard ellipsis helper if you need it elsewhere */
  .text-clip {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
}

@layer components {
  .ambient {
    position: fixed;
    inset: -10%;
    z-index: -11; /* behind the tint overlay in layout */
  }
  .ambient-glow,
  .ambient-grain {
    position: absolute;
    inset: -10%;
  }

  /* soft neon blobs that drift */
  .ambient-glow {
    background:
      radial-gradient(36% 40% at 18% 24%, rgba(169,96,238,0.20) 0%, rgba(169,96,238,0) 60%),
      radial-gradient(34% 36% at 82% 22%, rgba(255,78,205,0.18) 0%, rgba(255,78,205,0) 60%),
      radial-gradient(40% 44% at 50% 90%, rgba(0,212,255,0.16) 0%, rgba(0,212,255,0) 60%);
    filter: blur(40px);
    animation: ambient-drift 48s ease-in-out infinite alternate;
    transform: translate3d(0,0,0);
    will-change: transform;
  }

  /* very gentle moving grain */
  .ambient-grain {
    background-image: url('/noise.png');
    background-size: 300px 300px;
    opacity: 0.25;
    mix-blend-mode: soft-light;
    animation: grain-slide 16s linear infinite;
  }
}

@layer utilities {
  @keyframes ambient-drift {
    0%   { transform: translate3d(-1%, -1%, 0) scale(1.00) rotate(0.2deg); }
    50%  { transform: translate3d( 1%,  0.5%, 0) scale(1.02) rotate(-0.2deg); }
    100% { transform: translate3d( 0%,  1%, 0) scale(1.01) rotate(0deg); }
  }
  @keyframes grain-slide {
    0%   { background-position: 0 0; }
    100% { background-position: 300px 150px; }
  }

  /* respect users who prefer less motion */
  @media (prefers-reduced-motion: reduce) {
    .ambient-glow, .ambient-grain { animation: none !important; }
  }
}

@layer utilities {
  @keyframes floaty { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-2px) } }
  .animate-floaty { animation: floaty 6s ease-in-out infinite; }
}
